import{S as U,i as V,s as R,I as tt,J as et,m as z,h as x,n as k,b as O,G as P,B as S,e as J,k as A,l as I,K as vt,w as nt,a as G,x as it,c as W,p as d,L as re,y as rt,M as se,N as H,O as Lt,P as Ut,f as Y,t as F,z as st,Q as Vt,R as oe,g as Nt,T as le,d as Pt,U as jt,V as Gt,W as ae,X as ue,q as lt,r as at,Y as zt,u as he,o as fe,Z as ce}from"../../chunks/index-85728c0b.js";class Mt extends Map{constructor(t,e=ge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(St(this,t))}has(t){return super.has(St(this,t))}set(t,e){return super.set(de(this,t),e)}delete(t){return super.delete(pe(this,t))}}function St({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function de({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function pe({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function ge(n){return n!==null&&typeof n=="object"?n.valueOf():n}function _e(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,s=new Array(r);++i<r;)s[i]=n+i*e;return s}var me={value:()=>{}};function Wt(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new _t(e)}function _t(n){this._=n}function we(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}_t.prototype=Wt.prototype={constructor:_t,on:function(n,t){var e=this._,i=we(n+"",e),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(n=i[s]).type)&&(r=ve(e[r],n.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(r=(n=i[s]).type)e[r]=Tt(e[r],n.name,t);else if(t==null)for(r in e)e[r]=Tt(e[r],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new _t(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,s;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};function ve(n,t){for(var e=0,i=n.length,r;e<i;++e)if((r=n[e]).name===t)return r.value}function Tt(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=me,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var ot=0,ht=0,ut=0,Qt=1e3,mt,ft,wt=0,Z=0,yt=0,dt=typeof performance=="object"&&performance.now?performance:Date,Jt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Kt(){return Z||(Jt(ye),Z=dt.now()+yt)}function ye(){Z=0}function kt(){this._call=this._time=this._next=null}kt.prototype=Zt.prototype={constructor:kt,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Kt():+e)+(t==null?0:+t),!this._next&&ft!==this&&(ft?ft._next=this:mt=this,ft=this),this._call=n,this._time=e,Et()},stop:function(){this._call&&(this._call=null,this._time=1/0,Et())}};function Zt(n,t,e){var i=new kt;return i.restart(n,t,e),i}function xe(){Kt(),++ot;for(var n=mt,t;n;)(t=Z-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ot}function At(){Z=(wt=dt.now())+yt,ot=ht=0;try{xe()}finally{ot=0,ke(),Z=0}}function be(){var n=dt.now(),t=n-wt;t>Qt&&(yt-=t,wt=n)}function ke(){for(var n,t=mt,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:mt=e);ft=n,Et(i)}function Et(n){if(!ot){ht&&(ht=clearTimeout(ht));var t=n-Z;t>24?(n<1/0&&(ht=setTimeout(At,n-dt.now()-yt)),ut&&(ut=clearInterval(ut))):(ut||(wt=dt.now(),ut=setInterval(be,Qt)),ot=1,Jt(At))}}function Ee(n){const t=+this._x.call(null,n),e=+this._y.call(null,n);return $t(this.cover(t,e),t,e,n)}function $t(n,t,e,i){if(isNaN(t)||isNaN(e))return n;var r,s=n._root,a={data:i},o=n._x0,l=n._y0,f=n._x1,c=n._y1,h,u,p,w,g,m,_,v;if(!s)return n._root=a,n;for(;s.length;)if((g=t>=(h=(o+f)/2))?o=h:f=h,(m=e>=(u=(l+c)/2))?l=u:c=u,r=s,!(s=s[_=m<<1|g]))return r[_]=a,n;if(p=+n._x.call(null,s.data),w=+n._y.call(null,s.data),t===p&&e===w)return a.next=s,r?r[_]=a:n._root=a,n;do r=r?r[_]=new Array(4):n._root=new Array(4),(g=t>=(h=(o+f)/2))?o=h:f=h,(m=e>=(u=(l+c)/2))?l=u:c=u;while((_=m<<1|g)===(v=(w>=u)<<1|p>=h));return r[v]=s,r[_]=a,n}function Ne(n){var t,e,i=n.length,r,s,a=new Array(i),o=new Array(i),l=1/0,f=1/0,c=-1/0,h=-1/0;for(e=0;e<i;++e)isNaN(r=+this._x.call(null,t=n[e]))||isNaN(s=+this._y.call(null,t))||(a[e]=r,o[e]=s,r<l&&(l=r),r>c&&(c=r),s<f&&(f=s),s>h&&(h=s));if(l>c||f>h)return this;for(this.cover(l,f).cover(c,h),e=0;e<i;++e)$t(this,a[e],o[e],n[e]);return this}function Pe(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(e))r=(e=Math.floor(n))+1,s=(i=Math.floor(t))+1;else{for(var a=r-e||1,o=this._root,l,f;e>n||n>=r||i>t||t>=s;)switch(f=(t<i)<<1|n<e,l=new Array(4),l[f]=o,o=l,a*=2,f){case 0:r=e+a,s=i+a;break;case 1:e=r-a,s=i+a;break;case 2:r=e+a,i=s-a;break;case 3:e=r-a,i=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._y0=i,this._x1=r,this._y1=s,this}function Ce(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function Le(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function B(n,t,e,i,r){this.node=n,this.x0=t,this.y0=e,this.x1=i,this.y1=r}function ze(n,t,e){var i,r=this._x0,s=this._y0,a,o,l,f,c=this._x1,h=this._y1,u=[],p=this._root,w,g;for(p&&u.push(new B(p,r,s,c,h)),e==null?e=1/0:(r=n-e,s=t-e,c=n+e,h=t+e,e*=e);w=u.pop();)if(!(!(p=w.node)||(a=w.x0)>c||(o=w.y0)>h||(l=w.x1)<r||(f=w.y1)<s))if(p.length){var m=(a+l)/2,_=(o+f)/2;u.push(new B(p[3],m,_,l,f),new B(p[2],a,_,m,f),new B(p[1],m,o,l,_),new B(p[0],a,o,m,_)),(g=(t>=_)<<1|n>=m)&&(w=u[u.length-1],u[u.length-1]=u[u.length-1-g],u[u.length-1-g]=w)}else{var v=n-+this._x.call(null,p.data),L=t-+this._y.call(null,p.data),M=v*v+L*L;if(M<e){var E=Math.sqrt(e=M);r=n-E,s=t-E,c=n+E,h=t+E,i=p.data}}return i}function Me(n){if(isNaN(c=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var t,e=this._root,i,r,s,a=this._x0,o=this._y0,l=this._x1,f=this._y1,c,h,u,p,w,g,m,_;if(!e)return this;if(e.length)for(;;){if((w=c>=(u=(a+l)/2))?a=u:l=u,(g=h>=(p=(o+f)/2))?o=p:f=p,t=e,!(e=e[m=g<<1|w]))return this;if(!e.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(i=t,_=m)}for(;e.data!==n;)if(r=e,!(e=e.next))return this;return(s=e.next)&&delete e.next,r?(s?r.next=s:delete r.next,this):t?(s?t[m]=s:delete t[m],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[_]=e:this._root=e),this):(this._root=s,this)}function Se(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function Te(){return this._root}function Ae(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function Ie(n){var t=[],e,i=this._root,r,s,a,o,l;for(i&&t.push(new B(i,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(i=e.node,s=e.x0,a=e.y0,o=e.x1,l=e.y1)&&i.length){var f=(s+o)/2,c=(a+l)/2;(r=i[3])&&t.push(new B(r,f,c,o,l)),(r=i[2])&&t.push(new B(r,s,c,f,l)),(r=i[1])&&t.push(new B(r,f,a,o,c)),(r=i[0])&&t.push(new B(r,s,a,f,c))}return this}function Be(n){var t=[],e=[],i;for(this._root&&t.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.x1,f=i.y1,c=(a+l)/2,h=(o+f)/2;(s=r[0])&&t.push(new B(s,a,o,c,h)),(s=r[1])&&t.push(new B(s,c,o,l,h)),(s=r[2])&&t.push(new B(s,a,h,c,f)),(s=r[3])&&t.push(new B(s,c,h,l,f))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function De(n){return n[0]}function Oe(n){return arguments.length?(this._x=n,this):this._x}function Xe(n){return n[1]}function Ye(n){return arguments.length?(this._y=n,this):this._y}function te(n,t,e){var i=new Ct(t??De,e??Xe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function Ct(n,t,e,i,r,s){this._x=n,this._y=t,this._x0=e,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function It(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var D=te.prototype=Ct.prototype;D.copy=function(){var n=new Ct(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=It(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var r=0;r<4;++r)(i=t.source[r])&&(i.length?e.push({source:i,target:t.target[r]=new Array(4)}):t.target[r]=It(i));return n};D.add=Ee;D.addAll=Ne;D.cover=Pe;D.data=Ce;D.extent=Le;D.find=ze;D.remove=Me;D.removeAll=Se;D.root=Te;D.size=Ae;D.visit=Ie;D.visitAfter=Be;D.x=Oe;D.y=Ye;function Q(n){return function(){return n}}const qe=1664525,Fe=1013904223,Bt=4294967296;function Re(){let n=1;return()=>(n=(qe*n+Fe)%Bt)/Bt}var He=10,Ue=Math.PI*(3-Math.sqrt(5));function Ve(n){var t,e=1,i=.001,r=1-Math.pow(i,1/300),s=0,a=.6,o=new Map,l=Zt(h),f=Wt("tick","end"),c=Re();n==null&&(n=[]);function h(){u(),f.call("tick",t),e<i&&(l.stop(),f.call("end",t))}function u(g){var m,_=n.length,v;g===void 0&&(g=1);for(var L=0;L<g;++L)for(e+=(s-e)*r,o.forEach(function(M){M(e)}),m=0;m<_;++m)v=n[m],v.fx==null?v.x+=v.vx*=a:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=a:(v.y=v.fy,v.vy=0);return t}function p(){for(var g=0,m=n.length,_;g<m;++g){if(_=n[g],_.index=g,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var v=He*Math.sqrt(.5+g),L=g*Ue;_.x=v*Math.cos(L),_.y=v*Math.sin(L)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function w(g){return g.initialize&&g.initialize(n,c),g}return p(),t={tick:u,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(n=g,p(),o.forEach(w),t):n},alpha:function(g){return arguments.length?(e=+g,t):e},alphaMin:function(g){return arguments.length?(i=+g,t):i},alphaDecay:function(g){return arguments.length?(r=+g,t):+r},alphaTarget:function(g){return arguments.length?(s=+g,t):s},velocityDecay:function(g){return arguments.length?(a=1-g,t):1-a},randomSource:function(g){return arguments.length?(c=g,o.forEach(w),t):c},force:function(g,m){return arguments.length>1?(m==null?o.delete(g):o.set(g,w(m)),t):o.get(g)},find:function(g,m,_){var v=0,L=n.length,M,E,C,y,T;for(_==null?_=1/0:_*=_,v=0;v<L;++v)y=n[v],M=g-y.x,E=m-y.y,C=M*M+E*E,C<_&&(T=y,_=C);return T},on:function(g,m){return arguments.length>1?(f.on(g,m),t):f.on(g)}}}function je(n){var t=Q(.1),e,i,r;typeof n!="function"&&(n=Q(n==null?0:+n));function s(o){for(var l=0,f=e.length,c;l<f;++l)c=e[l],c.vx+=(r[l]-c.x)*i[l]*o}function a(){if(e){var o,l=e.length;for(i=new Array(l),r=new Array(l),o=0;o<l;++o)i[o]=isNaN(r[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}return s.initialize=function(o){e=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Q(+o),a(),s):t},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:Q(+o),a(),s):n},s}function Ge(n){var t=Q(.1),e,i,r;typeof n!="function"&&(n=Q(n==null?0:+n));function s(o){for(var l=0,f=e.length,c;l<f;++l)c=e[l],c.vy+=(r[l]-c.y)*i[l]*o}function a(){if(e){var o,l=e.length;for(i=new Array(l),r=new Array(l),o=0;o<l;++o)i[o]=isNaN(r[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}return s.initialize=function(o){e=o,a()},s.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Q(+o),a(),s):t},s.y=function(o){return arguments.length?(n=typeof o=="function"?o:Q(+o),a(),s):n},s}function We(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const Dt=Symbol("implicit");function ee(){var n=new Mt,t=[],e=[],i=Dt;function r(s){let a=n.get(s);if(a===void 0){if(i!==Dt)return i;n.set(s,a=t.push(s)-1)}return e[a%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new Mt;for(const a of s)n.has(a)||n.set(a,t.push(a)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ee(t,e).unknown(i)},We.apply(r,arguments),r}function Qe(n){for(var t=n.length/6|0,e=new Array(t),i=0;i<t;)e[i]="#"+n.slice(i*6,++i*6);return e}const Je=Qe("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");function $(n,t,e){this.k=n,this.x=t,this.y=e}$.prototype={constructor:$,scale:function(n){return n===1?this:new $(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new $(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new $(1,0,0);$.prototype;const Ke="#f3dbb8",Ze=(n,t)=>tn().bounds([[0,0],[n,t]]).size(function(e){return[e.width,e.height]});function ne(n){return function(){return n}}const xt=$e().size(n=>[n.width,n.height]);function $e(){let n,t,e,i=1,r=1,s,a,o;function l(){let h,u=-1;for(;++u<r;)p();function p(){let g=te(n,f,c),m=-1;for(;++m<n.length;)h=n[m],a=e[m],s=f(h),o=c(h),g.visit(w)}function w(g,m,_,v,L){let M=!1,E=g.data;if(E){if(E.index<=h.index)return;let C=(h.width+E.width)/2,y=(h.height+E.height)/2,T=s-f(E),b=o-c(E),N=Math.abs(T)-C,X=Math.abs(b)-y;if(N<0&&X<0){let q=Math.sqrt(T*T+b*b),K=e[E.index]/(a+e[E.index]);Math.abs(N)<Math.abs(X)?(h.vx-=(T*=N/q*i)*K,E.vx+=T*(1-K)):(h.vy-=(b*=X/q*i)*K,E.vy+=b*(1-K)),M=!0}}return M}}function f(h){return h.x+h.vx+t[h.index][0]/2}function c(h){return h.y+h.vy+t[h.index][1]/2}return l.initialize=function(h){t=(n=h).map(function(u){return[u.width,u.height]}),e=t.map(function(u){return u[0]*u[1]})},l.size=function(h){let u;return arguments.length?(u=typeof h=="function"?h:ne(h),l):u},l.strength=function(h){return arguments.length?(i=+h,l):i},l.iterations=function(h){return arguments.length?(r=+h,l):r},l}function tn(){let n,t,e,i=ne([0,0]);function r(){let s,a,o,l,f,c,h,u,p=-1;for(;++p<n.length;)s=n[p],a=t[p],o=s.x+s.vx,l=e[0][0]-o,f=e[1][0]-(o+a[0]),c=s.y+s.vy,h=e[0][1]-c,u=e[1][1]-(c+a[1]),(l>0||f<0)&&(s.x+=s.vx,s.vx=-s.vx,s.vx<l&&(s.x+=l-s.vx),s.vx>f&&(s.x+=f-s.vx)),(h>0||u<0)&&(s.y+=s.vy,s.vy=-s.vy,s.vy<h&&(s.vy+=h-s.vy),s.vy>u&&(s.vy+=u-s.vy))}return r.initialize=function(s){t=(n=s).map(i)},r.bounds=function(s){return arguments.length?(e=s,r):e},r.size=function(s){let a=typeof s=="function";return arguments.length?r:a},r}let en="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nn=(n=21)=>{let t="",e=n;for(;e--;)t+=en[Math.random()*64|0];return t};class j{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:ct(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(e=>new j(e));if(t.length>0)return t}return[this]}}const ct=n=>"pointerId"in n,bt=n=>"changedTouches"in n,Ot=()=>{};class ie{constructor(t,{start:e=()=>!0,move:i=Ot,end:r=Ot,rawUpdates:s=!1,avoidPointerEvents:a=!1,eventListenerOptions:o={capture:!1,passive:!1,once:!1}}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=l=>{if(ct(l)&&l.buttons===0)this._excludeFromButtonsCheck.add(l.pointerId);else if(!(l.buttons&1))return;const f=new j(l);this.currentPointers.some(c=>c.id===f.id)||this._triggerPointerStart(f,l)&&(ct(l)?((l.target&&"setPointerCapture"in l.target?l.target:this._element).setPointerCapture(l.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move,this._eventListenerOptions),this._element.addEventListener("pointerup",this._pointerEnd,this._eventListenerOptions),this._element.addEventListener("pointercancel",this._pointerEnd,this._eventListenerOptions)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=l=>{for(const f of Array.from(l.changedTouches))this._triggerPointerStart(new j(f),l)},this._move=l=>{if(!bt(l)&&(!ct(l)||!this._excludeFromButtonsCheck.has(l.pointerId))&&l.buttons===0){this._pointerEnd(l);return}const f=this.currentPointers.slice(),c=bt(l)?Array.from(l.changedTouches).map(u=>new j(u)):[new j(l)],h=[];for(const u of c){const p=this.currentPointers.findIndex(w=>w.id===u.id);p!==-1&&(h.push(u),this.currentPointers[p]=u)}h.length!==0&&this._moveCallback(f,h,l)},this._triggerPointerEnd=(l,f)=>{if(!bt(f)&&f.buttons&1)return!1;const c=this.currentPointers.findIndex(u=>u.id===l.id);if(c===-1)return!1;this.currentPointers.splice(c,1),this.startPointers.splice(c,1),this._excludeFromButtonsCheck.delete(l.id);const h=!(f.type==="mouseup"||f.type==="touchend"||f.type==="pointerup");return this._endCallback(l,f,h),!0},this._pointerEnd=l=>{if(this._triggerPointerEnd(new j(l),l))if(ct(l)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=l=>{for(const f of Array.from(l.changedTouches))this._triggerPointerEnd(new j(f),l)},this._startCallback=e,this._moveCallback=i,this._endCallback=r,this._rawUpdates=s&&"onpointerrawupdate"in window,this._eventListenerOptions=o,self.PointerEvent&&!a?this._element.addEventListener("pointerdown",this._pointerStart,this._eventListenerOptions):(this._element.addEventListener("mousedown",this._pointerStart,this._eventListenerOptions),this._element.addEventListener("touchstart",this._touchStart,this._eventListenerOptions),this._element.addEventListener("touchmove",this._move,this._eventListenerOptions),this._element.addEventListener("touchend",this._touchEnd,this._eventListenerOptions),this._element.addEventListener("touchcancel",this._touchEnd,this._eventListenerOptions))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,e){return this._startCallback(t,e)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function rn(n,{nodeData:t={},handleDrag:e=()=>null}={}){let i=0,r=0,s,a,o=new ie(n,{start(l,f){return r=null,i=null,f.target instanceof HTMLInputElement||f.target.isContentEditable?!1:(f.preventDefault(),f.stopPropagation(),n.dispatchEvent(new CustomEvent("started",{detail:{}})),s=f.clientX-n.getBoundingClientRect().left||0,a=f.clientY-n.getBoundingClientRect().top||0,r=parseFloat(getComputedStyle(n).left.replace("px",""))||0,i=parseFloat(getComputedStyle(n).top.replace("px",""))||0,!0)},move(l,f,c){c.preventDefault(),c.stopPropagation(),n.style.cursor="grabbing",o.currentPointers[0].clientY>document.body.clientHeight-20&&window.scrollBy(0,20),o.currentPointers[0].clientY<20&&window.scrollBy(0,-20),o.currentPointers[0].clientX>document.body.clientWidth-20&&window.scrollBy(20,0),o.currentPointers[0].clientX<20&&window.scrollBy(-20,0),r=r+o.currentPointers[0].pageX-l[0].pageX,i=i+o.currentPointers[0].pageY-l[0].pageY,t.x=r,t.y=i,n.dispatchEvent(new CustomEvent("move",{detail:{x:r,y:i}}))},end(l,f,c){var p;n.style.left=0,n.style.top=0;let h=document.elementFromPoint(l.clientX,l.clientY),u=h==null?void 0:h.closest("[data-dropzone]");if(n.style.cursor="auto",!u||u==n||n.contains(u)||(u==null?void 0:u.id)==((p=n.parentNode.closest("[data-dropzone]"))==null?void 0:p.id)){console.log("dropped on self"),n.dispatchEvent(new CustomEvent("move",{detail:{x:r,y:i}}));return}e(),u.dispatchEvent(new CustomEvent("end",{detail:{nodeData:{...t,x:l.clientX-s-u.getBoundingClientRect().left,y:l.clientY-a-u.getBoundingClientRect().top}}}))},avoidPointerEvents:!0,eventListenerOptions:{capture:!1}});return{update(l){({nodeData:t,handleDrag:e}=l)},destroy(){o.stop()}}}function sn(n){let t,e;return{c(){t=tt("svg"),e=tt("path"),this.h()},l(i){t=et(i,"svg",{xmlns:!0,viewBox:!0,stroke:!0,fill:!0});var r=z(t);e=et(r,"path",{d:!0}),z(e).forEach(x),r.forEach(x),this.h()},h(){k(e,"d","M32 32C32 15 46 0 64 0h256a32 32 0 1 1 0 64h-29l11 148c37 20 66 53 79 95l1 3c4 10 2 20-4 29s-16 13-26 13H32a32 32 0 0 1-30-42l1-3c13-42 42-75 79-95L94 64H64c-18 0-32-14-32-32zm128 352h64v96a32 32 0 1 1-64 0v-96z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 384 512"),k(t,"stroke","black"),k(t,"fill","currentColor")},m(i,r){O(i,t,r),P(t,e)},p:S,i:S,o:S,d(i){i&&x(t)}}}class on extends U{constructor(t){super(),V(this,t,null,sn,R,{})}}function ln(n){let t,e;return{c(){t=tt("svg"),e=tt("path"),this.h()},l(i){t=et(i,"svg",{xmlns:!0,viewBox:!0,fill:!0});var r=z(t);e=et(r,"path",{d:!0}),z(e).forEach(x),r.forEach(x),this.h()},h(){k(e,"d","m135 18-7 14H32a32 32 0 1 0 0 64h384a32 32 0 1 0 0-64h-96l-7-14c-6-11-17-18-29-18H164c-12 0-23 7-29 18zm281 110H32l21 339c2 25 23 45 48 45h246c25 0 46-20 48-45l21-339z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 448 512"),k(t,"fill","currentColor")},m(i,r){O(i,t,r),P(t,e)},p:S,i:S,o:S,d(i){i&&x(t)}}}class an extends U{constructor(t){super(),V(this,t,null,ln,R,{})}}function Xt(n){let t;return{c(){t=A("div"),this.h()},l(e){t=I(e,"DIV",{class:!0}),z(t).forEach(x),this.h()},h(){k(t,"class","svlt-resizer svelte-1pri9fx")},m(e,i){O(e,t,i),n[3](t)},p:S,d(e){e&&x(t),n[3](null)}}}function un(n){let t,e=n[1]&&Xt(n);return{c(){e&&e.c(),t=J()},l(i){e&&e.l(i),t=J()},m(i,r){e&&e.m(i,r),O(i,t,r)},p(i,[r]){i[1]?e?e.p(i,r):(e=Xt(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(i){e&&e.d(i),i&&x(t)}}}function hn(n,t,e){let{handle:i}=t,{trigger:r}=t,{show:s=!0}=t;function a(o){vt[o?"unshift":"push"](()=>{i=o,e(0,i)})}return n.$$set=o=>{"handle"in o&&e(0,i=o.handle),"trigger"in o&&e(2,r=o.trigger),"show"in o&&e(1,s=o.show)},n.$$.update=()=>{n.$$.dirty&5&&i&&r(i)},[i,s,r,a]}class fn extends U{constructor(t){super(),V(this,t,hn,un,R,{handle:0,trigger:2,show:1})}}function cn(n,{Resizer:t=fn,show:e=!0}={}){const i=n.style.position;i!=="relative"&&i!=="absolute"&&(n.style.position="relative");let r=new t({target:n,props:{trigger:s=>dn(s),show:e}});return{update(s){e=s.show,r.$set({show:e})},destroy(){}}}function dn(n){let t,e,i,r,s=new ie(n,{avoidPointerEvents:!0,start:(a,o)=>s.currentPointers.length===1?!1:(o.preventDefault(),o.stopPropagation(),t=(t||getComputedStyle(n.parentNode).width.replace("px","")||0)*1,e=(e||getComputedStyle(n.parentNode).height.replace("px","")||0)*1,!0),move:(a,o,l)=>{l.preventDefault(),l.stopPropagation(),i=s.currentPointers[0].pageX-a[0].pageX,r=s.currentPointers[0].pageY-a[0].pageY,t=t+i,e=e+r,n.parentNode.dispatchEvent(new CustomEvent("resized",{detail:{width:t,height:e}})),n.parentNode.style.width=t+"px",n.parentNode.style.height=e+1+"px"},end:(a,o,l)=>{console.log("Drag ended")}})}function Yt(n){let t;return{c(){t=A("div"),this.h()},l(e){t=I(e,"DIV",{class:!0}),z(t).forEach(x),this.h()},h(){k(t,"class","resizer svelte-1xgtqsq")},m(e,i){O(e,t,i),n[3](t)},p:S,d(e){e&&x(t),n[3](null)}}}function pn(n){let t,e=n[1]&&Yt(n);return{c(){e&&e.c(),t=J()},l(i){e&&e.l(i),t=J()},m(i,r){e&&e.m(i,r),O(i,t,r)},p(i,[r]){i[1]?e?e.p(i,r):(e=Yt(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(i){e&&e.d(i),i&&x(t)}}}function gn(n,t,e){let{handle:i}=t,{trigger:r}=t,{show:s}=t;function a(o){vt[o?"unshift":"push"](()=>{i=o,e(0,i)})}return n.$$set=o=>{"handle"in o&&e(0,i=o.handle),"trigger"in o&&e(2,r=o.trigger),"show"in o&&e(1,s=o.show)},n.$$.update=()=>{n.$$.dirty&5&&i&&r(i)},[i,s,r,a]}class _n extends U{constructor(t){super(),V(this,t,gn,pn,R,{handle:0,trigger:2,show:1})}}function mn(n){let t,e,i,r,s,a,o,l,f,c,h;return i=new on({}),a=new an({}),{c(){t=A("div"),e=A("button"),nt(i.$$.fragment),r=G(),s=A("button"),nt(a.$$.fragment),this.h()},l(u){t=I(u,"DIV",{class:!0,style:!0});var p=z(t);e=I(p,"BUTTON",{"data-gripper":!0,"data-no-pan":!0,style:!0});var w=z(e);it(i.$$.fragment,w),w.forEach(x),r=W(p),s=I(p,"BUTTON",{"data-gripper":!0,"data-no-pan":!0,style:!0});var g=z(s);it(a.$$.fragment,g),g.forEach(x),p.forEach(x),this.h()},h(){k(e,"data-gripper",""),k(e,"data-no-pan",""),d(e,"--shadowColor","#000000cf"),d(e,"--widthPin","1.25em"),d(e,"filter","drop-shadow(0 0.9em 0.5em var(--shadowColor))"),d(e,"width","var(--widthPin)"),d(e,"height","auto"),d(e,"position","absolute"),d(e,"top","-1em"),d(e,"right","calc("+n[1].width/2+"px - var(--widthPin) / 2)"),d(e,"margin","0em"),d(e,"padding","0em"),d(e,"z-index","10"),d(e,"color",n[1].pinned?"black":"white"),d(e,"background-color","transparent"),d(e,"border","none"),k(s,"data-gripper",""),k(s,"data-no-pan",""),d(s,"--shadowColor","#000000cf"),d(s,"--widthPin","1em"),d(s,"filter","drop-shadow(0 12px 0.65em var(--shadowColor))"),d(s,"width","var(--widthPin)"),d(s,"height","auto"),d(s,"position","absolute"),d(s,"top","-0.5em"),d(s,"right","-0.5em"),d(s,"margin","0em"),d(s,"padding","0em"),d(s,"color","red"),d(s,"background-color","transparent"),d(s,"border","none"),k(t,"class","node"),d(t,"position","absolute"),d(t,"user-select","none"),d(t,"box-shadow","10px 5px 5px black"),d(t,"background-color",n[1].fill),d(t,"width",n[1].width+"px"),d(t,"height",n[1].height+"px"),d(t,"left",n[1].x+"px"),d(t,"top",n[1].y+"px"),d(t,"--tw-shadow","0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"),d(t,"--tw-ring-offset-shadow","0 0 #0000"),d(t,"--tw-ring-shadow","0 0 #0000"),d(t,"--tw-shadow-colored","0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color)"),d(t,"box-shadow","var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"),re(()=>n[8].call(t))},m(u,p){O(u,t,p),P(t,e),rt(i,e,null),P(t,r),P(t,s),rt(a,s,null),l=se(t,n[8].bind(t)),f=!0,c||(h=[H(e,"click",n[6]),H(s,"click",n[7]),Lt(o=rn.call(null,t,{nodeData:n[1]})),Lt(cn.call(null,t,{show:!0,Resizer:_n})),H(t,"move",n[5]),H(t,"end",n[5])],c=!0)},p(u,[p]){(!f||p&2)&&d(e,"right","calc("+u[1].width/2+"px - var(--widthPin) / 2)"),p&2&&d(e,"color",u[1].pinned?"black":"white"),(!f||p&2)&&d(t,"background-color",u[1].fill),(!f||p&2)&&d(t,"width",u[1].width+"px"),(!f||p&2)&&d(t,"height",u[1].height+"px"),(!f||p&2)&&d(t,"left",u[1].x+"px"),(!f||p&2)&&d(t,"top",u[1].y+"px"),o&&Ut(o.update)&&p&2&&o.update.call(null,{nodeData:u[1]})},i(u){f||(Y(i.$$.fragment,u),Y(a.$$.fragment,u),f=!0)},o(u){F(i.$$.fragment,u),F(a.$$.fragment,u),f=!1},d(u){u&&x(t),st(i),st(a),l(),c=!1,Vt(h)}}}function wn(n,t,e){let{nodes:i}=t,{node:r}=t;const s=oe();let a,o;function l(u){e(0,i),e(2,a),e(1,r),e(3,o),s("move","")}const f=()=>{e(1,r.pinned=!r.pinned,r),e(1,r.fx=r.pinned?r.x:null,r),e(1,r.fy=r.pinned?r.y:null,r)},c=()=>{s("deleting",r.id),e(0,i=i.filter(u=>u.id!==r.id))};function h(){a=this.offsetWidth,o=this.offsetHeight,e(2,a),e(3,o)}return n.$$set=u=>{"nodes"in u&&e(0,i=u.nodes),"node"in u&&e(1,r=u.node)},n.$$.update=()=>{n.$$.dirty&7&&a&&a!==r.width&&(e(1,r.width=a,r),e(0,i),e(2,a),e(1,r),e(3,o)),n.$$.dirty&11&&o&&o!==r.height&&(e(1,r.height=o,r),e(0,i),e(2,a),e(1,r),e(3,o))},[i,r,a,o,s,l,f,c,h]}class vn extends U{constructor(t){super(),V(this,t,wn,mn,R,{nodes:0,node:1})}}function yn(n){return n*n*((1.70158+1)*n-1.70158)}function qt(n,t,e){const i=n.slice();return i[8]=t[e],i}function Ft(n,t){let e,i,r,s,a,o;function l(c){t[6](c)}let f={node:t[8]};return t[0]!==void 0&&(f.nodes=t[0]),i=new vn({props:f}),vt.push(()=>jt(i,"nodes",l,t[0])),i.$on("move",function(){Ut(t[1])&&t[1].apply(this,arguments)}),i.$on("deleting",t[7]),{key:n,first:null,c(){e=A("div"),nt(i.$$.fragment),s=G(),this.h()},l(c){e=I(c,"DIV",{});var h=z(e);it(i.$$.fragment,h),s=W(h),h.forEach(x),this.h()},h(){this.first=e},m(c,h){O(c,e,h),rt(i,e,null),P(e,s),o=!0},p(c,h){t=c;const u={};h&1&&(u.node=t[8]),!r&&h&1&&(r=!0,u.nodes=t[0],Gt(()=>r=!1)),i.$set(u)},i(c){o||(Y(i.$$.fragment,c),a&&a.end(1),o=!0)},o(c){F(i.$$.fragment,c),a=ae(e,t[3],{}),o=!1},d(c){c&&x(e),st(i),c&&a&&a.end()}}}function xn(n){let t=[],e=new Map,i,r,s=n[0];const a=o=>o[8].id;for(let o=0;o<s.length;o+=1){let l=qt(n,s,o),f=a(l);e.set(f,t[o]=Ft(f,l))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=J()},l(o){for(let l=0;l<t.length;l+=1)t[l].l(o);i=J()},m(o,l){for(let f=0;f<t.length;f+=1)t[f].m(o,l);O(o,i,l),r=!0},p(o,[l]){l&7&&(s=o[0],Nt(),t=le(t,l,a,1,o,s,e,i.parentNode,ue,Ft,i,qt),Pt())},i(o){if(!r){for(let l=0;l<s.length;l+=1)Y(t[l]);r=!0}},o(o){for(let l=0;l<t.length;l+=1)F(t[l]);r=!1},d(o){for(let l=0;l<t.length;l+=1)t[l].d(o);o&&x(i)}}}function bn(n,t,e){let{nodes:i}=t,{restartSim:r}=t,{width:s}=t,{height:a}=t,o=!1;function l(h,u){return o?(e(2,o=!1),{delay:u.delay||0,duration:u.duration||250,easing:u.easing||yn,css:(p,w)=>`transform: translate(${w*s/2}px, ${w*a}px) scale(${p})`}):null}function f(h){i=h,e(0,i)}const c=h=>e(2,o=!0);return n.$$set=h=>{"nodes"in h&&e(0,i=h.nodes),"restartSim"in h&&e(1,r=h.restartSim),"width"in h&&e(4,s=h.width),"height"in h&&e(5,a=h.height)},[i,r,o,l,s,a,f,c]}class kn extends U{constructor(t){super(),V(this,t,bn,xn,R,{nodes:0,restartSim:1,width:4,height:5})}}function En(n){let t,e;return{c(){t=tt("svg"),e=tt("path"),this.h()},l(i){t=et(i,"svg",{xmlns:!0,viewBox:!0,fill:!0});var r=z(t);e=et(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),z(e).forEach(x),r.forEach(x),this.h()},h(){k(e,"fill-rule","evenodd"),k(e,"d","M10 3a1 1 0 00-1 1v5H4a1 1 0 100 2h5v5a1 1 0 102 0v-5h5a1 1 0 100-2h-5V4a1 1 0 00-1-1z"),k(e,"clip-rule","evenodd"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 20 20"),k(t,"fill","white")},m(i,r){O(i,t,r),P(t,e)},p:S,i:S,o:S,d(i){i&&x(t)}}}class Nn extends U{constructor(t){super(),V(this,t,null,En,R,{})}}function Rt(n){let t,e=n[3],i,r,s,a=`${n[5]}px`,o=`${n[6]}px`,l,f,c,h=Ht(n);return s=new Nn({}),{c(){t=A("div"),h.c(),i=G(),r=A("button"),nt(s.$$.fragment),this.h()},l(u){t=I(u,"DIV",{class:!0});var p=z(t);h.l(p),i=W(p),r=I(p,"BUTTON",{style:!0});var w=z(r);it(s.$$.fragment,w),w.forEach(x),p.forEach(x),this.h()},h(){r.disabled=n[4],d(r,"z-index","50"),d(r,"position","absolute"),d(r,"bottom","10px"),d(r,"right","10px"),d(r,"border","none"),d(r,"user-select","none"),d(r,"box-shadow","10px 5px 5px black"),d(r,"background-color",n[4]?"grey":"#4daf4a"),d(r,"width","50px"),d(r,"height","50px"),d(r,"--tw-shadow","0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"),d(r,"--tw-ring-offset-shadow","0 0 #0000"),d(r,"--tw-ring-shadow","0 0 #0000"),d(r,"--tw-shadow-colored","0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color)"),d(r,"box-shadow","var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"),k(t,"class","Frame svelte-4jfizf"),d(t,"width",a),d(t,"height",o),d(t,"background-color",Ke),d(t,"position","relative")},m(u,p){O(u,t,p),h.m(t,null),P(t,i),P(t,r),rt(s,r,null),l=!0,f||(c=H(r,"mousedown",n[7]),f=!0)},p(u,p){p&8&&R(e,e=u[3])?(Nt(),F(h,1,1,S),Pt(),h=Ht(u),h.c(),Y(h,1),h.m(t,i)):h.p(u,p),(!l||p&16)&&(r.disabled=u[4]),(!l||p&16)&&d(r,"background-color",u[4]?"grey":"#4daf4a")},i(u){l||(Y(h),Y(s.$$.fragment,u),l=!0)},o(u){F(h),F(s.$$.fragment,u),l=!1},d(u){u&&x(t),h.d(u),st(s),f=!1,c()}}}function Ht(n){let t,e,i;function r(a){n[12](a)}let s={restartSim:n[9],width:n[5],height:n[6]};return n[1]!==void 0&&(s.nodes=n[1]),t=new kn({props:s}),vt.push(()=>jt(t,"nodes",r,n[1])),{c(){nt(t.$$.fragment)},l(a){it(t.$$.fragment,a)},m(a,o){rt(t,a,o),i=!0},p(a,o){const l={};!e&&o&2&&(e=!0,l.nodes=a[1],Gt(()=>e=!1)),t.$set(l)},i(a){i||(Y(t.$$.fragment,a),i=!0)},o(a){F(t.$$.fragment,a),i=!1},d(a){st(t,a)}}}function Pn(n){var T;let t,e,i,r,s,a,o,l,f,c,h,u,p,w,g,m,_,v,L,M,E,C,y=n[1]&&((T=n[1])==null?void 0:T.length)&&Rt(n);return{c(){t=A("div"),e=A("h1"),i=lt("Svelte D3 Rectangular Forces"),r=G(),s=A("div"),a=A("label"),o=lt("Snap to grid"),l=G(),f=A("input"),c=G(),h=A("div"),u=A("label"),p=lt("Grid ("),w=lt(n[0]),g=lt(")"),m=G(),_=A("input"),v=G(),y&&y.c(),L=J(),this.h()},l(b){t=I(b,"DIV",{style:!0});var N=z(t);e=I(N,"H1",{});var X=z(e);i=at(X,"Svelte D3 Rectangular Forces"),X.forEach(x),r=W(N),s=I(N,"DIV",{});var q=z(s);a=I(q,"LABEL",{for:!0});var K=z(a);o=at(K,"Snap to grid"),K.forEach(x),l=W(q),f=I(q,"INPUT",{type:!0,id:!0}),q.forEach(x),c=W(N),h=I(N,"DIV",{});var pt=z(h);u=I(pt,"LABEL",{for:!0});var gt=z(u);p=at(gt,"Grid ("),w=at(gt,n[0]),g=at(gt,")"),gt.forEach(x),m=W(pt),_=I(pt,"INPUT",{type:!0,min:!0,max:!0,step:!0,id:!0}),pt.forEach(x),N.forEach(x),v=W(b),y&&y.l(b),L=J(),this.h()},h(){k(a,"for","snap"),k(f,"type","checkbox"),k(f,"id","snap"),k(u,"for","grid"),k(_,"type","range"),k(_,"min","10"),k(_,"max","100"),k(_,"step","10"),k(_,"id","grid"),d(t,"display","flex"),d(t,"flex-direction","column"),d(t,"align-items","center"),d(t,"margin","1em")},m(b,N){O(b,t,N),P(t,e),P(e,i),P(t,r),P(t,s),P(s,a),P(a,o),P(s,l),P(s,f),f.checked=n[2],P(t,c),P(t,h),P(h,u),P(u,p),P(u,w),P(u,g),P(h,m),P(h,_),zt(_,n[0]),O(b,v,N),y&&y.m(b,N),O(b,L,N),M=!0,E||(C=[H(f,"change",n[10]),H(f,"change",n[8]),H(_,"change",n[11]),H(_,"input",n[11])],E=!0)},p(b,[N]){var X;N&4&&(f.checked=b[2]),(!M||N&1)&&he(w,b[0]),N&1&&zt(_,b[0]),b[1]&&((X=b[1])!=null&&X.length)?y?(y.p(b,N),N&2&&Y(y,1)):(y=Rt(b),y.c(),Y(y,1),y.m(L.parentNode,L)):y&&(Nt(),F(y,1,1,()=>{y=null}),Pt())},i(b){M||(Y(y),M=!0)},o(b){F(y),M=!1},d(b){b&&x(t),b&&x(v),y&&y.d(b),b&&x(L),E=!1,Vt(C)}}}let Cn=8,Ln=.1,zn=.21;function Mn(n,t,e){let i,r,s=!1,a=100,o={left:0,right:0,top:0,bottom:0},l=800-o.right-o.left,f=600-o.top-o.bottom,c=0,h=!1,u=ee().range(Je);fe(async()=>{e(1,i=_e(Cn).map(C=>{if(C==0)return w({i:C,width:100,height:100,x:0,y:0,vx:-5,vy:-5});let y=Math.random()*50+100,T=Math.random()*50+100,b=-250,N=-250,X=_(Math.random()*(l-y),a),q=_(Math.random()*(f-T),a);return w({i:C,width:y,height:T,x:X,y:q,vx:b,vy:N})})),m()});async function p(){if(h)return;e(4,h=!0);let C=Math.random();e(1,i=[...i,w({i:Math.floor(C*10)+1,vx:-250,vy:-250,x:l,y:f,width:140,height:130})]),e(3,c++,c),v().on("end",()=>{e(4,h=!1)})}function w({i:C,vx:y,vy:T,width:b,height:N,x:X,y:q}={i:0,vx:0,vy:0,width:100,height:100}){return{id:nn(6),x:X,y:q,width:b,height:N,vx:y||0,vy:T||0,fill:u(C),pinned:!1}}function g(){r&&(r=r.stop(),!s||!a?r=r.force("x",null).force("y",null):a&&m().force("x",je().x(C=>(Math.round(C.x/a)*a).toFixed(1)).strength(.25)).force("y",Ge().y(C=>(Math.round(C.y/a)*a).toFixed(1)).strength(.25)),r=r.alpha(1).nodes(i).restart())}function m(){return r&&r.stop(),r=null,r=Ve(i).force("box",Ze(l,f)).force("collision",xt==null?void 0:xt.strength(1)).alpha(1).alphaDecay(Ln).alphaMin(zn).on("tick",()=>{e(1,i)}).on("end",()=>{console.log("end")}),r}const _=(C,y)=>Math.round(C/y)*y;function v(){if(r)return r=r.stop(),r=r.alpha(1).nodes(i).restart(),r}function L(){s=this.checked,e(2,s)}function M(){a=ce(this.value),e(0,a)}function E(C){i=C,e(1,i)}return n.$$.update=()=>{n.$$.dirty&1&&a&&g()},[a,i,s,c,h,l,f,p,g,v,L,M,E]}class Sn extends U{constructor(t){super(),V(this,t,Mn,Pn,R,{})}}function Tn(n){let t,e;return t=new Sn({}),{c(){nt(t.$$.fragment)},l(i){it(t.$$.fragment,i)},m(i,r){rt(t,i,r),e=!0},p:S,i(i){e||(Y(t.$$.fragment,i),e=!0)},o(i){F(t.$$.fragment,i),e=!1},d(i){st(t,i)}}}class In extends U{constructor(t){super(),V(this,t,null,Tn,R,{})}}export{In as default};
